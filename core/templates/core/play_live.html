{% extends 'layout.html' %}
{% load static %}

{% block title %}{{ lobby_name }} - Play Chain Reaction with Friends{% endblock %}

{% block libraries %}
    <script src="{% static 'js/core/player.js' %}"></script>
    <script src={% static 'js/utils.js' %}></script>
    <script src="{% static 'js/core/particle.js' %}"></script>
    <script src="{% static 'js/core/chainreaction.js' %}"></script>
{% endblock %}

{% block body %}
    {% include 'game-over.html' %}
    <div class="flexbox-row">
        <div class="column-fourth full-height flexbox-column" id="game-settings-window">
            {% include 'game-info.html' %}
        </div>
        <div class="column-half full-height" id="game-window">
            <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-family: var(--heading-bold-font); font-size: 2rem; text-align: center;">
                Click Start Game to start the game
            </div>
        </div>
        <div class="column-fourth full-height" id="game-info-window">
            <h1 class="pad-30">Players</h1>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script>
        const playerName = "{{ player_name }}";
        const lobbyName = "{{ lobby_name }}";

        const socket = new WebSocket(
            'ws://'
            + document.location.host
            + '/ws/game/'
            + lobbyName
            + '/'
        );
    </script>
    <script src="{% static 'js/play_live.js' %}"></script>
{% endblock %}